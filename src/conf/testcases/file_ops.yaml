name: file_operations_test
matrix:
  pg_version: [15]
  node_count: [3]
context:
  filename: "/tmp/demo_test_file.txt"
steps:
  - name: create_file
    cmd_ref: create_file
    expect:
      return_code: 0
  - name: list_file
    cmd_ref: list_file
    expect:
      return_code: 0
      contains: "{{filename}}"
  - name: delete_file
    cmd_ref: delete_file
    expect:
      return_code: 0
hooks:
  before:
    - cmd_ref: echo_start
  after:
    - cmd_ref: echo_end
